name: Validate Commit Message

on: [push]

jobs:
  check-commit-message:
    runs-on: ubuntu-latest

    steps:
      - name: Validate latest commit message (title + body)
        run: |
          message="${{ github.event.head_commit.message }}"
          echo "Full commit message:"
          echo "$message"
          if ! echo "$message" | grep -qE "#[0-9]+"; then
            echo "❌ Commit message must include an issue number like #123"
            exit 1
          fi
